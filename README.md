# Ultra-fast-moving-average-filter

# 移動平均フィルタの性能比較

本レポートでは、異なる条件下での移動平均フィルタの実装方法による性能比較を行います。実験では、以下の3種類の実装方法を比較しました：

- 普通の移動平均フィルタ（Pythonのみ使用）
- Numpyの`convolve`関数を使用した移動平均フィルタ
- Numpyの`cumsum`関数を使用した移動平均フィルタ

実験は以下の条件下で行われました：

1. 小規模データセット（1,000点）, （5点）
2. 小規模データセット（1,000点）, （50点）
3. 大規模データセット（100,000点）, （5点）
4. 大規模データセット（100,000点）, （100点）

## 実験結果

以下の表に、各条件下での実装方法ごとの実行時間（秒）と、性能差（倍速）を示します。

| 条件 | 実装方法 | 実行時間（秒） | 性能差（倍速） |
| --- | --- | ---: | ---: |
| 小規模データセット（1,000点）, 小窓（5点） | 普通の移動平均 | 0.0107 | - |
|  | Numpy `convolve` | 0.0003 | 40.85倍高速 |
|  | Numpy `cumsum` | 0.0002 | 53.69倍高速 |
| 小規模データセット（1,000点）, 大窓（50点） | 普通の移動平均 | 0.0713 | - |
|  | Numpy `convolve` | 0.0003 | 229.72倍高速 |
|  | Numpy `cumsum` | 0.0003 | 263.22倍高速 |
| 大規模データセット（100,000点）, 小窓（5点） | 普通の移動平均 | 2.5931 | - |
|  | Numpy `convolve` | 0.0010 | 2530.90倍高速 |
|  | Numpy `cumsum` | 0.0093 | 277.87倍高速 |
| 大規模データセット（100,000点）, 大窓（100点） | 普通の移動平均 | 12.1863 | - |
|  | Numpy `convolve` | 0.0225 | 542.14倍高速 |
|  | Numpy `cumsum` | 0.0053 | 2306.86倍高速 |

## 結論

実験結果から、Numpyを使用した実装方法が普通の移動平均フィルタに比べて顕著に高速であることが確認できました。特に、大規模データセットや大窓サイズでの計算では、`cumsum`を使用した移動平均フィルタが最も効率的であることが示されました。これらの結果は、移動平均フィルタの実装においてNumpyの利用を強く推奨するものです。
